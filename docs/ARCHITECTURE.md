# æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“ æ•´ä½“æ¶æ„

é©¾è€ƒåˆ·åˆ·é‡‡ç”¨**å‰åç«¯åˆ†ç¦»**æ¶æ„ï¼Œåç«¯æä¾›RESTful APIï¼Œå‰ç«¯é‡‡ç”¨åˆ†å±‚æ¶æ„ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flutter å‰ç«¯åº”ç”¨                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI Layer          â”‚ é¡µé¢ç»„ä»¶ã€Widget                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Provider Layer    â”‚ çŠ¶æ€ç®¡ç†ã€ä¸šåŠ¡é€»è¾‘                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Repository Layer  â”‚ æ•°æ®è®¿é—®æ¥å£                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Data Source       â”‚ æœ¬åœ°æ•°æ®åº“ + ç½‘ç»œè¯·æ±‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                              â”‚
             â”‚ SQLite (Drift)              â”‚ HTTP (Dio)
             â”‚                              â”‚
             â–¼                              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ æœ¬åœ°å­˜å‚¨  â”‚                 â”‚  Golang åç«¯   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    - API æ¥å£
                                    - é¢˜åº“æ•°æ®æœåŠ¡
```

## ğŸ¯ åç«¯æ¶æ„

### æŠ€æœ¯é€‰å‹

- **æ¡†æ¶**: Gin - é«˜æ€§èƒ½çš„Go Webæ¡†æ¶
- **è¯­è¨€**: Golang 1.21+
- **æ•°æ®**: JSONæ–‡ä»¶ï¼ˆMockæ•°æ®ï¼‰

### åˆ†å±‚è®¾è®¡

```
backend/
â”œâ”€â”€ main.go              # åº”ç”¨å…¥å£ï¼Œè·¯ç”±é…ç½®
â”œâ”€â”€ api/                 # APIå±‚
â”‚   â”œâ”€â”€ handler.go       # HTTPè¯·æ±‚å¤„ç†
â”‚   â””â”€â”€ handler_test.go  # APIæµ‹è¯•
â”œâ”€â”€ service/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ bank_service.go       # é¢˜åº“æœåŠ¡
â”‚   â””â”€â”€ bank_service_test.go  # æœåŠ¡æµ‹è¯•
â”œâ”€â”€ model/               # æ•°æ®æ¨¡å‹å±‚
â”‚   â””â”€â”€ bank.go          # é¢˜åº“æ¨¡å‹å®šä¹‰
â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ config.go
â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚   â””â”€â”€ logger.go        # æ—¥å¿—å·¥å…·
â””â”€â”€ data/                # Mockæ•°æ®
    â”œâ”€â”€ banks.json       # é¢˜åº“å…ƒæ•°æ®
    â””â”€â”€ banks/           # é¢˜åº“é¢˜ç›®æ•°æ®
        â”œâ”€â”€ demo_bank.json
        â””â”€â”€ cn_subject1_v1.json
```

### APIè®¾è®¡åŸåˆ™

1. **RESTfulé£æ ¼**: ä½¿ç”¨æ ‡å‡†HTTPæ–¹æ³•å’ŒçŠ¶æ€ç 
2. **ç»Ÿä¸€å“åº”æ ¼å¼**: 
   ```json
   {
     "code": 200,
     "message": "success",
     "data": {...}
   }
   ```
3. **CORSæ”¯æŒ**: å…è®¸è·¨åŸŸè¯·æ±‚
4. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
5. **æ€§èƒ½ä¼˜åŒ–**: æ–‡ä»¶æµå¼ä¼ è¾“ï¼Œé¿å…å¤§æ–‡ä»¶é˜»å¡

### APIç«¯ç‚¹

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|------|
| GET | `/api/health` | å¥åº·æ£€æŸ¥ | è¿”å›æœåŠ¡çŠ¶æ€ |
| GET | `/api/banks` | é¢˜åº“åˆ—è¡¨ | è¿”å›æ‰€æœ‰å¯ç”¨é¢˜åº“ |
| GET | `/api/banks/:id/download` | ä¸‹è½½é¢˜åº“ | æµå¼ä¼ è¾“é¢˜åº“æ–‡ä»¶ |

## ğŸ“± å‰ç«¯æ¶æ„

### æŠ€æœ¯é€‰å‹

- **æ¡†æ¶**: Flutter 3.19+
- **çŠ¶æ€ç®¡ç†**: Riverpod 2.6+ - ç±»å‹å®‰å…¨çš„ä¾èµ–æ³¨å…¥å’ŒçŠ¶æ€ç®¡ç†
- **æ•°æ®åº“**: Drift (SQLite) - ç±»å‹å®‰å…¨çš„ORM
- **ç½‘ç»œ**: Dio 5.7+ - å¼ºå¤§çš„HTTPå®¢æˆ·ç«¯
- **å·¥å…·**: 
  - `build_runner` - ä»£ç ç”Ÿæˆ
  - `json_annotation` - JSONåºåˆ—åŒ–
  - `flutter_screenutil` - å±å¹•é€‚é…

### åˆ†å±‚æ¶æ„

#### 1. UI Layer (ç”¨æˆ·ç•Œé¢å±‚)

```
lib/features/
â”œâ”€â”€ bank_list/           # é¢˜åº“ç®¡ç†
â”‚   â”œâ”€â”€ bank_list_page.dart
â”‚   â””â”€â”€ widgets/         # é¡µé¢ç»„ä»¶
â”œâ”€â”€ quiz/                # åˆ·é¢˜åŠŸèƒ½
â”‚   â”œâ”€â”€ quiz_page.dart
â”‚   â””â”€â”€ widgets/
â”œâ”€â”€ statistics/          # ç»Ÿè®¡é¡µé¢
â”‚   â”œâ”€â”€ statistics_page.dart
â”‚   â””â”€â”€ widgets/
â”œâ”€â”€ settings/            # è®¾ç½®é¡µé¢
â”‚   â””â”€â”€ settings_page.dart
â””â”€â”€ home/                # ä¸»å¯¼èˆª
    â””â”€â”€ home_page.dart
```

**èŒè´£**:
- å±•ç¤ºUIç»„ä»¶
- å¤„ç†ç”¨æˆ·äº¤äº’
- è°ƒç”¨Providerè·å–æ•°æ®
- å“åº”çŠ¶æ€å˜åŒ–

#### 2. Provider Layer (çŠ¶æ€ç®¡ç†å±‚)

```
lib/providers/
â”œâ”€â”€ database_provider.dart    # æ ¸å¿ƒåŸºç¡€è®¾æ–½Provider
â”œâ”€â”€ bank_provider.dart        # é¢˜åº“ç®¡ç†Provider
â”œâ”€â”€ quiz_provider.dart        # åˆ·é¢˜çŠ¶æ€Provider
â””â”€â”€ stats_provider.dart       # ç»Ÿè®¡æ•°æ®Provider
```

**Providerç±»å‹**:
- **Provider**: åªè¯»æ•°æ®ï¼ˆæ•°æ®åº“å®ä¾‹ã€APIå®¢æˆ·ç«¯ï¼‰
- **FutureProvider**: å¼‚æ­¥æ•°æ®è·å–ï¼ˆé¢˜åº“åˆ—è¡¨ã€ç»Ÿè®¡æ•°æ®ï¼‰
- **StateNotifierProvider**: å¤æ‚çŠ¶æ€ç®¡ç†ï¼ˆåˆ·é¢˜çŠ¶æ€ã€ä¸‹è½½è¿›åº¦ï¼‰
- **StateProvider**: ç®€å•çŠ¶æ€ï¼ˆé€‰ä¸­çš„é¢˜åº“IDï¼‰

**èŒè´£**:
- å°è£…ä¸šåŠ¡é€»è¾‘
- ç®¡ç†åº”ç”¨çŠ¶æ€
- åè°ƒRepositoryè°ƒç”¨
- æä¾›æ•°æ®ç»™UIå±‚

#### 3. Repository Layer (æ•°æ®ä»“åº“å±‚)

```
lib/repositories/
â”œâ”€â”€ bank_repository.dart      # é¢˜åº“æ•°æ®ä»“åº“
â”œâ”€â”€ answer_repository.dart    # ç­”é¢˜è®°å½•ä»“åº“
â””â”€â”€ stats_repository.dart     # ç»Ÿè®¡æ•°æ®ä»“åº“
```

**èŒè´£**:
- æŠ½è±¡æ•°æ®æº
- åè°ƒæœ¬åœ°å’Œè¿œç¨‹æ•°æ®
- æ•°æ®è½¬æ¢å’Œç¼“å­˜
- é”™è¯¯å¤„ç†

#### 4. Data Source Layer (æ•°æ®æºå±‚)

##### æœ¬åœ°æ•°æ®åº“ (Drift/SQLite)

```
lib/core/database/
â”œâ”€â”€ app_database.dart         # æ•°æ®åº“å®šä¹‰
â”œâ”€â”€ app_database.g.dart       # ç”Ÿæˆçš„DAOä»£ç 
â””â”€â”€ tables.dart               # è¡¨å®šä¹‰
```

**è¡¨ç»“æ„**:
- `banks` - é¢˜åº“ä¿¡æ¯
- `questions` - é¢˜ç›®æ•°æ®
- `user_answers` - ç­”é¢˜è®°å½•
- `question_stats` - é¢˜ç›®ç»Ÿè®¡

##### ç½‘ç»œå±‚

```
lib/core/network/
â”œâ”€â”€ api_client.dart           # HTTPå®¢æˆ·ç«¯
â”œâ”€â”€ api_endpoints.dart        # APIç«¯ç‚¹å®šä¹‰
â””â”€â”€ api_exception.dart        # ç½‘ç»œå¼‚å¸¸
```

#### 5. Model Layer (æ•°æ®æ¨¡å‹å±‚)

```
lib/models/
â”œâ”€â”€ bank_model.dart           # é¢˜åº“æ¨¡å‹
â”œâ”€â”€ question_model.dart       # é¢˜ç›®æ¨¡å‹
â””â”€â”€ stats_model.dart          # ç»Ÿè®¡æ¨¡å‹
```

**ç‰¹æ€§**:
- JSONåºåˆ—åŒ–ï¼ˆ`json_annotation`ï¼‰
- å€¼ç›¸ç­‰æ€§ï¼ˆ`equatable`ï¼‰
- ä¸å¯å˜å¯¹è±¡

### æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Page  â”‚  1. ç”¨æˆ·äº¤äº’
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Provider   â”‚  2. è°ƒç”¨ä¸šåŠ¡é€»è¾‘
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Repository   â”‚  3. è·å–/ä¿å­˜æ•°æ®
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼             â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database â”‚  â”‚   API    â”‚  â”‚  Cache   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚             â”‚            â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  è¿”å›æ•°æ®       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Provider     â”‚  4. æ›´æ–°çŠ¶æ€
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  UI é‡å»º      â”‚  5. å“åº”å¼æ›´æ–°
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### 1. é¢˜åº“ä¸‹è½½æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»ä¸‹è½½
    â”‚
    â–¼
BankDownloadNotifier (Provider)
    â”‚
    â”œâ”€> è°ƒç”¨ API ä¸‹è½½é¢˜åº“æ•°æ®
    â”‚   â””â”€> ç›‘å¬ä¸‹è½½è¿›åº¦ (0-100%)
    â”‚
    â”œâ”€> è§£æ JSON æ•°æ®
    â”‚
    â”œâ”€> ä¿å­˜åˆ°æœ¬åœ°æ•°æ®åº“
    â”‚   â”œâ”€> ä¿å­˜é¢˜åº“ä¿¡æ¯
    â”‚   â””â”€> æ‰¹é‡æ’å…¥é¢˜ç›®
    â”‚
    â””â”€> æ›´æ–° UI (ä¸‹è½½å®Œæˆ)
```

### 2. åˆ·é¢˜æµç¨‹

```
é€‰æ‹©é¢˜åº“ + åˆ·é¢˜æ¨¡å¼
    â”‚
    â–¼
QuizNotifier.startQuiz()
    â”‚
    â”œâ”€> ä»æ•°æ®åº“åŠ è½½é¢˜ç›®
    â”‚   â”œâ”€> é¡ºåºæ¨¡å¼: å…¨éƒ¨é¢˜ç›®
    â”‚   â”œâ”€> éšæœºæ¨¡å¼: æ‰“ä¹±é¡ºåº
    â”‚   â”œâ”€> é”™é¢˜æ¨¡å¼: åªåŠ è½½é”™é¢˜
    â”‚   â””â”€> æ”¶è—æ¨¡å¼: åªåŠ è½½æ”¶è—
    â”‚
    â”œâ”€> åˆå§‹åŒ–ç­”é¢˜çŠ¶æ€
    â”‚
    â””â”€> è¿›å…¥åˆ·é¢˜é¡µé¢
        â”‚
        â”œâ”€> ç”¨æˆ·é€‰æ‹©é€‰é¡¹
        â”œâ”€> æäº¤ç­”æ¡ˆ
        â”œâ”€> ä¿å­˜ç­”é¢˜è®°å½• (æ•°æ®åº“)
        â”œâ”€> æ›´æ–°é¢˜ç›®ç»Ÿè®¡
        â”œâ”€> æ˜¾ç¤ºç­”æ¡ˆè§£æ
        â””â”€> ä¸‹ä¸€é¢˜ (å¾ªç¯)
```

### 3. ç»Ÿè®¡æ•°æ®æµç¨‹

```
æ‰“å¼€ç»Ÿè®¡é¡µ
    â”‚
    â–¼
StatsProvider
    â”‚
    â”œâ”€> overallStatsProvider
    â”‚   â””â”€> æŸ¥è¯¢æ‰€æœ‰é¢˜åº“ç»Ÿè®¡
    â”‚       â”œâ”€> æ€»é¢˜åº“æ•°
    â”‚       â”œâ”€> æ€»é¢˜ç›®æ•°
    â”‚       â”œâ”€> å·²ç­”é¢˜æ•°
    â”‚       â”œâ”€> æ­£ç¡®ç‡
    â”‚       â””â”€> å®Œæˆåº¦
    â”‚
    â””â”€> allBankStatsProvider
        â””â”€> æŸ¥è¯¢æ¯ä¸ªé¢˜åº“è¯¦ç»†ç»Ÿè®¡
            â”œâ”€> é¢˜åº“ID + åç§°
            â”œâ”€> ç­”é¢˜è¿›åº¦
            â”œâ”€> æ­£ç¡®ç‡
            â”œâ”€> é”™é¢˜æ•°
            â””â”€> æ”¶è—æ•°
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### è¡¨ç»“æ„

#### banks (é¢˜åº“è¡¨)
```sql
CREATE TABLE banks (
  id TEXT PRIMARY KEY,           -- é¢˜åº“ID
  name TEXT NOT NULL,            -- é¢˜åº“åç§°
  description TEXT,              -- æè¿°
  total_questions INTEGER,       -- æ€»é¢˜æ•°
  version TEXT,                  -- ç‰ˆæœ¬å·
  language TEXT,                 -- è¯­è¨€
  downloaded_at INTEGER,         -- ä¸‹è½½æ—¶é—´æˆ³
  updated_at INTEGER             -- æ›´æ–°æ—¶é—´æˆ³
);
```

#### questions (é¢˜ç›®è¡¨)
```sql
CREATE TABLE questions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  bank_id TEXT NOT NULL,         -- æ‰€å±é¢˜åº“
  question_number INTEGER,       -- é¢˜å·
  question_type TEXT,            -- é¢˜å‹ (single/multiple/judge)
  content TEXT NOT NULL,         -- é¢˜ç›®å†…å®¹
  options TEXT,                  -- é€‰é¡¹JSON
  correct_answer TEXT,           -- æ­£ç¡®ç­”æ¡ˆ
  explanation TEXT,              -- è§£æ
  FOREIGN KEY (bank_id) REFERENCES banks(id)
);
```

#### user_answers (ç­”é¢˜è®°å½•è¡¨)
```sql
CREATE TABLE user_answers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  question_id INTEGER NOT NULL,  -- é¢˜ç›®ID
  bank_id TEXT NOT NULL,         -- é¢˜åº“ID
  user_answer TEXT,              -- ç”¨æˆ·ç­”æ¡ˆ
  is_correct INTEGER,            -- æ˜¯å¦æ­£ç¡® (0/1)
  answered_at INTEGER,           -- ç­”é¢˜æ—¶é—´æˆ³
  FOREIGN KEY (question_id) REFERENCES questions(id)
);
```

#### question_stats (é¢˜ç›®ç»Ÿè®¡è¡¨)
```sql
CREATE TABLE question_stats (
  question_id INTEGER PRIMARY KEY,
  is_favorite INTEGER DEFAULT 0,  -- æ˜¯å¦æ”¶è—
  is_wrong INTEGER DEFAULT 0,     -- æ˜¯å¦é”™é¢˜
  is_mastered INTEGER DEFAULT 0,  -- æ˜¯å¦å·²æŒæ¡
  answer_count INTEGER DEFAULT 0, -- ç­”é¢˜æ¬¡æ•°
  correct_count INTEGER DEFAULT 0,-- æ­£ç¡®æ¬¡æ•°
  last_answered_at INTEGER,       -- æœ€åç­”é¢˜æ—¶é—´
  FOREIGN KEY (question_id) REFERENCES questions(id)
);
```

### ç´¢å¼•ä¼˜åŒ–

```sql
-- æå‡æŸ¥è¯¢æ€§èƒ½
CREATE INDEX idx_questions_bank_id ON questions(bank_id);
CREATE INDEX idx_user_answers_question_id ON user_answers(question_id);
CREATE INDEX idx_user_answers_bank_id ON user_answers(bank_id);
CREATE INDEX idx_question_stats_favorite ON question_stats(is_favorite);
CREATE INDEX idx_question_stats_wrong ON question_stats(is_wrong);
```

## ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

### è®¾è®¡åŸåˆ™

- **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„é¢œè‰²ã€é—´è·ã€å­—ä½“è§„èŒƒ
- **å¯æ‰©å±•**: æ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜
- **å“åº”å¼**: ä½¿ç”¨ flutter_screenutil é€‚é…ä¸åŒå±å¹•

### ä¸»é¢˜é…ç½®

```dart
// lib/config/theme.dart
class AppTheme {
  // ä¸»è‰²è°ƒ
  static const primaryColor = Color(0xFF3B82F6);   // è“è‰²
  static const successColor = Color(0xFF10B981);   // ç»¿è‰²
  static const errorColor = Color(0xFFEF4444);     // çº¢è‰²
  static const warningColor = Color(0xFFF59E0B);   // æ©™è‰²
  
  // é—´è·ç³»ç»Ÿ
  static const spacing4 = 4.0;
  static const spacing8 = 8.0;
  static const spacing12 = 12.0;
  static const spacing16 = 16.0;
  static const spacing24 = 24.0;
  
  // åœ†è§’
  static const borderRadius8 = 8.0;
  static const borderRadius12 = 12.0;
  static const borderRadius16 = 16.0;
}
```

## ğŸ” é”™è¯¯å¤„ç†

### åˆ†å±‚é”™è¯¯å¤„ç†

1. **ç½‘ç»œå±‚**: æ•è·HTTPé”™è¯¯ï¼Œè½¬æ¢ä¸ºä¸šåŠ¡å¼‚å¸¸
2. **Repositoryå±‚**: ç»Ÿä¸€é”™è¯¯æ ¼å¼
3. **Providerå±‚**: å¤„ç†å¼‚å¸¸ï¼Œæ›´æ–°é”™è¯¯çŠ¶æ€
4. **UIå±‚**: æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯

### é”™è¯¯ç±»å‹

```dart
// ç½‘ç»œé”™è¯¯
class NetworkException implements Exception {
  final String message;
  final int? statusCode;
}

// æ•°æ®åº“é”™è¯¯
class DatabaseException implements Exception {
  final String message;
}

// ä¸šåŠ¡é€»è¾‘é”™è¯¯
class BusinessException implements Exception {
  final String message;
  final String code;
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### åç«¯ä¼˜åŒ–

- âœ… æµå¼æ–‡ä»¶ä¼ è¾“ï¼ˆé¿å…å¤§æ–‡ä»¶é˜»å¡ï¼‰
- âœ… é€‚å½“çš„æ—¥å¿—çº§åˆ«
- âœ… CORSé¢„æ£€è¯·æ±‚ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–

- âœ… æ•°æ®åº“æ‰¹é‡æ’å…¥ï¼ˆæå‡å†™å…¥æ€§èƒ½ï¼‰
- âœ… Providerç¼“å­˜ï¼ˆé¿å…é‡å¤è®¡ç®—ï¼‰
- âœ… å›¾ç‰‡æ‡’åŠ è½½ï¼ˆå¦‚æœ‰å›¾ç‰‡ï¼‰
- âœ… åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ä¼˜åŒ–ï¼‰
- âœ… çŠ¶æ€æœ€å°åŒ–ï¼ˆå‡å°‘ä¸å¿…è¦çš„é‡å»ºï¼‰

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åç«¯æµ‹è¯•

- **å•å…ƒæµ‹è¯•**: æœåŠ¡å±‚é€»è¾‘æµ‹è¯•
- **APIæµ‹è¯•**: HTTPæ¥å£æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**: åŸºå‡†æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•

### å‰ç«¯æµ‹è¯•

- **å•å…ƒæµ‹è¯•**: Providerå’ŒRepositoryé€»è¾‘æµ‹è¯•
- **Widgetæµ‹è¯•**: UIç»„ä»¶æµ‹è¯•
- **é›†æˆæµ‹è¯•**: ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•

## ğŸ”® æœªæ¥æ‰©å±•

### è®¡åˆ’ä¸­çš„åŠŸèƒ½

1. **ç¦»çº¿é¢˜åº“æ›´æ–°æ£€æµ‹**
2. **å¤šè¯­è¨€æ”¯æŒ**
3. **é¢˜ç›®æœç´¢åŠŸèƒ½**
4. **å­¦ä¹ æé†’æ¨é€**
5. **ç¤¾åŒºé”™é¢˜åˆ†äº«**
6. **AIæ™ºèƒ½æ¨è**

### å¯æ‰©å±•æ€§

- **åç«¯**: æ˜“äºè¿ç§»åˆ°çœŸå®æ•°æ®åº“ï¼ˆPostgreSQL/MySQLï¼‰
- **å‰ç«¯**: æ˜“äºæ·»åŠ æ–°çš„Providerå’Œé¡µé¢
- **æ•°æ®**: æ”¯æŒçµæ´»çš„é¢˜åº“æ ¼å¼æ‰©å±•

---

**æœ€åæ›´æ–°**: 2026-01-23
